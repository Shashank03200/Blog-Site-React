(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(9),s=n(11),c=n(0),a=n(1),r=Object(c.createContext)({email:"",isLoggedIn:!1,userId:null,token:null,isButtonVisible:!1,setNewBtnState:function(){},loginHandler:function(e,t){},logoutHandler:function(){}}),l=function(e){var t=localStorage.getItem("idToken"),n=localStorage.getItem("userId"),l=localStorage.getItem("email"),i=Object(c.useState)({idToken:t,userId:n}),u=Object(s.a)(i,2),j=u[0],d=u[1],b=!!j.idToken,O=Object(c.useState)(l),x=Object(s.a)(O,2),h=x[0],g=x[1],p=Object(c.useState)(!1),f=Object(s.a)(p,2),I=f[0],m=f[1];return Object(c.useEffect)((function(){m(!!b)}),[b]),Object(a.jsx)(r.Provider,{value:{isLoggedIn:b,userId:j.userId,token:j.idToken,email:h,isButtonVisible:I,loginHandler:function(e,t,n){localStorage.setItem("idToken",t),localStorage.setItem("email",n),d((function(n){return Object(o.a)(Object(o.a)({},n),{},{idToken:t,userId:e})})),g(n)},logoutHandler:function(){d((function(e){return Object(o.a)(Object(o.a)({},e),{},{idToken:null,userId:null})})),g(null),localStorage.removeItem("userId"),localStorage.removeItem("idToken"),localStorage.removeItem("email")},setNewBtnState:function(e){m(e)}},children:e.children})};t.b=r},18:function(e,t,n){"use strict";n(0);var o=n(20),s=n.n(o),c=n(1);t.a=function(e){return Object(c.jsx)("div",{className:s.a.Loader,children:"Loading..."})}},20:function(e,t,n){e.exports={Loader:"Spinner_Loader__2jaP7",load6:"Spinner_load6__nOdJH",round:"Spinner_round__2X5zk"}},26:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),c=n(17),a=n.n(c),r=(n(26),n(27),n(2)),l=n(10),i=n(18),u=n(1),j=s.a.lazy((function(){return n.e(6).then(n.bind(null,68))})),d=s.a.lazy((function(){return Promise.all([n.e(4),n.e(10)]).then(n.bind(null,75))})),b=s.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,69))})),O=s.a.lazy((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,70))})),x=s.a.lazy((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,76))})),h=s.a.lazy((function(){return n.e(9).then(n.bind(null,71))})),g=s.a.lazy((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,72))}));var p=function(){var e=Object(o.useContext)(l.b),t=e.isLoggedIn;return Object(u.jsxs)(o.Suspense,{fallback:Object(u.jsx)(i.a,{}),children:[Object(u.jsx)(d,{}),Object(u.jsxs)(r.d,{children:[Object(u.jsxs)(r.b,{path:"/",exact:!0,children:[t&&Object(u.jsx)(r.a,{to:"/".concat(e.userId,"/posts")}),!t&&Object(u.jsx)(j,{})]}),Object(u.jsxs)(r.b,{path:"/login",children:[!t&&Object(u.jsx)(b,{method:"login"}),t&&Object(u.jsx)(r.a,{to:"/"+e.userId+"/posts"})]}),Object(u.jsxs)(r.b,{path:"/signup",children:[!t&&Object(u.jsx)(b,{method:"signup"}),t&&Object(u.jsx)(r.a,{to:"/"+e.userId+"/posts"})]}),Object(u.jsxs)(r.b,{path:"/:userId/new-post",children:[t&&Object(u.jsx)(O,{}),!t&&Object(u.jsx)(r.a,{to:"/login"})]}),Object(u.jsxs)(r.b,{path:"/:userId/resetPassword",children:[t&&Object(u.jsx)(g,{}),!t&&Object(u.jsx)(r.a,{to:"/login"})]}),Object(u.jsxs)(r.b,{path:"/:userId/posts",exact:!0,children:[t&&Object(u.jsx)(x,{}),!t&&Object(u.jsx)(r.a,{to:"/login"})]}),t&&Object(u.jsx)(r.b,{path:"/:userId/posts/:postId",children:Object(u.jsx)(h,{})}),Object(u.jsx)(r.b,{path:"*",children:Object(u.jsx)(r.a,{to:"/login"})})]})]})},f=n(12);a.a.render(Object(u.jsx)(f.a,{children:Object(u.jsx)(l.a,{children:Object(u.jsx)(p,{})})}),document.getElementById("root"))}},[[34,2,3]]]);
//# sourceMappingURL=main.772537f1.chunk.js.map