{"version":3,"sources":["components/NewPost.module.css","components/NewPost.js"],"names":["module","exports","NewPost","props","titleInputRef","useRef","contentInputRef","authCtx","useContext","AuthContext","history","useHistory","console","log","formSubmitHandler","event","preventDefault","fetch","method","body","JSON","stringify","userId","post","title","current","value","content","then","response","replace","setNewBtnState","data","className","classes","Container","ContainerTitle","variant","onClick","onSubmit","Group","Label","Control","size","type","ref","controlId","as","rows","postBtnDiv"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,UAAY,2BAA2B,WAAa,4BAA4B,eAAiB,kC,gCCDnH,iFAyEeC,UAlEC,SAACC,GAEb,IAAMC,EAAgBC,mBAChBC,EAAkBD,mBAGlBE,EAAUC,qBAAWC,KACrBC,EAAUC,cAEhBC,QAAQC,IAAIN,GAEZ,IAKMO,EAAoB,SAACC,GAEvBA,EAAMC,iBAENC,MAAM,gEAAiE,CACnEC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACjBC,OAAQf,EAAQe,OAChBC,KAAM,CACFC,MAAOpB,EAAcqB,QAAQC,MAC7BC,QAASrB,EAAgBmB,QAAQC,SAGzC,YAAe,qBAEhBE,MAAK,SAAAC,GAGJ,OAFAnB,EAAQoB,QAAQ,IAAMvB,EAAQe,OAAS,UACvCf,EAAQwB,gBAAe,GAChBF,KAEND,MAAK,SAAAI,QAMd,OACI,eAAC,IAAD,CAAWC,UAAWC,IAAQC,UAA9B,UACI,sBAAKF,UAAWC,IAAQE,eAAxB,UACI,mDACA,cAAC,IAAD,CAAQC,QAAQ,SAASC,QAnCR,WACzB/B,EAAQwB,gBAAe,GACvBrB,EAAQoB,QAAR,WAAoBvB,EAAQe,OAA5B,YAiCQ,uBAEJ,eAAC,IAAD,CAAMiB,SAAUzB,EAAhB,UACI,eAAC,IAAK0B,MAAN,WACI,cAAC,IAAKC,MAAN,oBACA,cAAC,IAAKC,QAAN,CAAcC,KAAK,KAAKC,KAAK,OAAOC,IAAKzC,OAE7C,eAAC,IAAKoC,MAAN,CAAYM,UAAU,+BAAtB,UACI,cAAC,IAAKL,MAAN,mBACA,cAAC,IAAKC,QAAN,CAAcK,GAAG,WAAWC,KAAM,GAAIL,KAAK,KAAKE,IAAKvC,OAEzD,qBAAK2B,UAAWC,IAAQe,WAAxB,SACI,cAAC,IAAD,CAAQZ,QAAQ,UAAUM,KAAK,KAAKL,QAASxB,EAA7C","file":"static/js/11.2eb5aa03.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"NewPost_Container__26UQt\",\"postBtnDiv\":\"NewPost_postBtnDiv___2Lkh\",\"ContainerTitle\":\"NewPost_ContainerTitle__NKut9\"};","import classes from \"./NewPost.module.css\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useContext, useState, useRef } from 'react';\r\n\r\nimport AuthContext from '../store/auth-context.js'\r\n\r\nconst NewPost = (props) => {\r\n\r\n    const titleInputRef = useRef();\r\n    const contentInputRef = useRef();\r\n\r\n\r\n    const authCtx = useContext(AuthContext);\r\n    const history = useHistory();\r\n\r\n    console.log(authCtx);\r\n\r\n    const newPostCancelHandler = () => {\r\n        authCtx.setNewBtnState(true);\r\n        history.replace(`/${authCtx.userId}/posts`)\r\n    }\r\n\r\n    const formSubmitHandler = (event) => {\r\n\r\n        event.preventDefault();\r\n\r\n        fetch('https://blog-app-8981b-default-rtdb.firebaseio.com/posts.json', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                userId: authCtx.userId,\r\n                post: {\r\n                    title: titleInputRef.current.value,\r\n                    content: contentInputRef.current.value\r\n                }\r\n            }),\r\n            'contentType': 'application/json'\r\n\r\n        }).then(response => {\r\n            history.replace(\"/\" + authCtx.userId + \"/posts\");\r\n            authCtx.setNewBtnState(true);\r\n            return response;\r\n        })\r\n            .then(data => {\r\n\r\n            })\r\n\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.Container}>\r\n            <div className={classes.ContainerTitle}>\r\n                <h2>Create a new blog</h2>\r\n                <Button variant=\"danger\" onClick={newPostCancelHandler}>Cancel</Button>\r\n            </div>\r\n            <Form onSubmit={formSubmitHandler}>\r\n                <Form.Group>\r\n                    <Form.Label>Title</Form.Label>\r\n                    <Form.Control size=\"lg\" type=\"text\" ref={titleInputRef} />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"exampleForm.ControlTextarea1\">\r\n                    <Form.Label>Text</Form.Label>\r\n                    <Form.Control as=\"textarea\" rows={10} size=\"lg\" ref={contentInputRef} />\r\n                </Form.Group>\r\n                <div className={classes.postBtnDiv}>\r\n                    <Button variant=\"primary\" size=\"lg\" onClick={formSubmitHandler} >Post</Button>\r\n                </div>\r\n            </Form>\r\n        </Container>\r\n\r\n    );\r\n}\r\n\r\nexport default NewPost;"],"sourceRoot":""}