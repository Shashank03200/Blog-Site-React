(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[1],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(9),s=n(11),c=n(0),l=n(1),a=Object(c.createContext)({email:"",isLoggedIn:!1,userId:null,token:null,isButtonVisible:!1,setNewBtnState:function(){},loginHandler:function(e,t){},logoutHandler:function(){}}),r=function(e){var t=localStorage.getItem("idToken"),n=localStorage.getItem("userId"),r=localStorage.getItem("email"),i=Object(c.useState)({idToken:t,userId:n}),u=Object(s.a)(i,2),j=u[0],b=u[1],d=!!j.idToken,O=Object(c.useState)(r),h=Object(s.a)(O,2),g=h[0],x=h[1],I=Object(c.useState)(!1),p=Object(s.a)(I,2),f=p[0],m=p[1];return Object(c.useEffect)((function(){m(!!d)}),[d]),Object(l.jsx)(a.Provider,{value:{isLoggedIn:d,userId:j.userId,token:j.idToken,email:g,isButtonVisible:f,loginHandler:function(e,t,n){localStorage.setItem("idToken",t),localStorage.setItem("email",n),b((function(n){return Object(o.a)(Object(o.a)({},n),{},{idToken:t,userId:e})})),x(n)},logoutHandler:function(){b((function(e){return Object(o.a)(Object(o.a)({},e),{},{idToken:null,userId:null})})),x(null),localStorage.removeItem("userId"),localStorage.removeItem("idToken"),localStorage.removeItem("email")},setNewBtnState:function(e){m(e)}},children:e.children})};t.b=a},24:function(e,t,n){},25:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var o=n(0),s=n.n(o),c=n(17),l=n.n(c),a=(n(24),n(25),n(2)),r=n(10),i=n(1),u=s.a.lazy((function(){return n.e(6).then(n.bind(null,66))})),j=s.a.lazy((function(){return Promise.all([n.e(4),n.e(10)]).then(n.bind(null,73))})),b=s.a.lazy((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,67))})),d=s.a.lazy((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,68))})),O=s.a.lazy((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,74))})),h=s.a.lazy((function(){return n.e(9).then(n.bind(null,69))})),g=s.a.lazy((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,70))}));var x=function(){var e=Object(o.useContext)(r.b),t=e.isLoggedIn;return Object(i.jsxs)(o.Suspense,{fallback:"Loading.",children:[Object(i.jsx)(j,{}),Object(i.jsxs)(a.d,{children:[Object(i.jsxs)(a.b,{path:"/",exact:!0,children:[t&&Object(i.jsx)(a.a,{to:"/".concat(e.userId,"/posts")}),!t&&Object(i.jsx)(u,{})]}),Object(i.jsxs)(a.b,{path:"/login",children:[!t&&Object(i.jsx)(b,{method:"login"}),t&&Object(i.jsx)(a.a,{to:"/"+e.userId+"/posts"})]}),Object(i.jsxs)(a.b,{path:"/signup",children:[!t&&Object(i.jsx)(b,{method:"signup"}),t&&Object(i.jsx)(a.a,{to:"/"+e.userId+"/posts"})]}),Object(i.jsxs)(a.b,{path:"/:userId/new-post",children:[t&&Object(i.jsx)(d,{}),!t&&Object(i.jsx)(a.a,{to:"/login"})]}),Object(i.jsxs)(a.b,{path:"/:userId/resetPassword",children:[t&&Object(i.jsx)(g,{}),!t&&Object(i.jsx)(a.a,{to:"/login"})]}),Object(i.jsxs)(a.b,{path:"/:userId/posts",exact:!0,children:[t&&Object(i.jsx)(O,{}),!t&&Object(i.jsx)(a.a,{to:"/login"})]}),t&&Object(i.jsx)(a.b,{path:"/:userId/posts/:postId",children:Object(i.jsx)(h,{})}),Object(i.jsx)(a.b,{path:"*",children:Object(i.jsx)(a.a,{to:"/login"})})]})]})},I=n(12);l.a.render(Object(i.jsx)(I.a,{children:Object(i.jsx)(r.a,{children:Object(i.jsx)(x,{})})}),document.getElementById("root"))}},[[32,2,3]]]);
//# sourceMappingURL=main.398c5de1.chunk.js.map