{"version":3,"sources":["components/ResetPassword.module.css","components/ResetPassword.js"],"names":["module","exports","ResetPassword","props","authCtx","useContext","AuthContext","firstPasswordInputRef","useRef","secondPasswordInputRef","className","classes","ResetContainer","Title","onSubmit","event","preventDefault","firstPassword","current","value","fetch","method","body","JSON","stringify","idToken","token","password","returnSecureToken","then","response","json","data","console","log","alert","logoutHandler","Group","controlId","FormGroup","Label","Control","type","placeholder","ref","SubmitButtonDiv"],"mappings":"+FACAA,EAAOC,QAAU,CAAC,eAAiB,sCAAsC,gBAAkB,uCAAuC,aAAe,oCAAoC,UAAY,iCAAiC,MAAQ,+B,gCCA1O,iFAoEeC,UA5DO,SAACC,GAEnB,IAAMC,EAAUC,qBAAWC,KAErBC,EAAwBC,mBACxBC,EAAyBD,mBAgC/B,OACI,eAAC,IAAD,CAAWE,UAAWC,IAAQC,eAA9B,UACI,oBAAIF,UAAWC,IAAQE,MAAvB,4BACA,eAAC,IAAD,CAAMC,SAjCiB,SAAAC,GAC3BA,EAAMC,iBACN,IAAMC,EAAgBV,EAAsBW,QAAQC,MAEhDF,GADmBR,EAAuBS,QAAQC,OAKtDC,MAAM,wGAAyG,CAC3GC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACjBC,QAASrB,EAAQsB,MACjBC,SAAUV,EACVW,mBAAmB,IAEvB,eAAgB,qBAGfC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACFC,QAAQC,IAAIF,GACZG,MAAM,6CACN/B,EAAQgC,gBACP,OAET7B,EAAsBW,QAAQC,MAAQ,GACtCV,EAAuBS,QAAQC,MAAQ,IArBnCgB,MAAM,4BA4BN,UAEI,eAAC,IAAKE,MAAN,CAAYC,UAAU,YAAY5B,UAAWC,IAAQ4B,UAArD,UACI,cAAC,IAAKC,MAAN,2BACA,cAAC,IAAKC,QAAN,CAAcC,KAAK,WAAWC,YAAY,iBAAiBC,IAAKrC,OAEpE,eAAC,IAAK8B,MAAN,CAAYC,UAAU,oBAAoB5B,UAAWC,IAAQ4B,UAA7D,UACI,cAAC,IAAKC,MAAN,mCACA,cAAC,IAAKC,QAAN,CAAcC,KAAK,WAAWC,YAAY,uBAAuBC,IAAKnC,OAE1E,qBAAKC,UAAWC,IAAQkC,gBAAxB,SACI,cAAC,IAAD,CAAQH,KAAK,SAAb","file":"static/js/12.600e5af8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ResetContainer\":\"ResetPassword_ResetContainer__3cfcT\",\"SubmitButtonDiv\":\"ResetPassword_SubmitButtonDiv__xI7Xv\",\"SubmitButton\":\"ResetPassword_SubmitButton__2fBvO\",\"FormGroup\":\"ResetPassword_FormGroup__2P7D4\",\"Title\":\"ResetPassword_Title__w-P_N\"};","\r\nimport classes from './ResetPassword.module.css';\r\nimport { Form, Button, Container } from \"react-bootstrap\";\r\nimport { useRef, useContext, useState } from 'react';\r\nimport { Link, Redirect, useHistory } from 'react-router-dom';\r\n\r\n\r\nimport AuthContext from './../store/auth-context';\r\n\r\nconst ResetPassword = (props) => {\r\n\r\n    const authCtx = useContext(AuthContext);\r\n\r\n    const firstPasswordInputRef = useRef();\r\n    const secondPasswordInputRef = useRef();\r\n\r\n    const resetFormSubmitHandler = event => {\r\n        event.preventDefault();\r\n        const firstPassword = firstPasswordInputRef.current.value;\r\n        const secondPassword = secondPasswordInputRef.current.value;\r\n        if (firstPassword != secondPassword) {\r\n            alert('Passwords do not match.')\r\n            return;\r\n        }\r\n        fetch('https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDSplRafoXJxfUlQxItCDlr2cr3pRfcu0U', {\r\n            method: 'POST',\r\n            body: JSON.stringify({\r\n                idToken: authCtx.token,\r\n                password: firstPassword,\r\n                returnSecureToken: true\r\n            }),\r\n            'Content-Type': 'application/json'\r\n\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                console.log(data);\r\n                alert('Password changed!\\nLogin Again to verify.');\r\n                authCtx.logoutHandler();\r\n                <Redirect to=\"/login\" />\r\n            })\r\n        firstPasswordInputRef.current.value = ''\r\n        secondPasswordInputRef.current.value = ''\r\n\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.ResetContainer}>\r\n            <h2 className={classes.Title}>Reset Password</h2>\r\n            <Form onSubmit={resetFormSubmitHandler}>\r\n\r\n                <Form.Group controlId=\"password1\" className={classes.FormGroup}>\r\n                    <Form.Label>New Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Enter password\" ref={firstPasswordInputRef} />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"formBasicPassword\" className={classes.FormGroup}>\r\n                    <Form.Label>Confirm New Password</Form.Label>\r\n                    <Form.Control type=\"password\" placeholder=\"Confirm the password\" ref={secondPasswordInputRef} />\r\n                </Form.Group>\r\n                <div className={classes.SubmitButtonDiv}>\r\n                    <Button type=\"submit\">Submit</Button>\r\n                </div>\r\n\r\n\r\n            </Form>\r\n\r\n        </Container>\r\n    )\r\n}\r\nexport default ResetPassword;"],"sourceRoot":""}